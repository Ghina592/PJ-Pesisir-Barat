<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Berita - Pesisir Barat</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="index.css" />
    <meta name="theme-color" content="#e9caa2" />
  </head>
  <body>
    <header class="hero">
      <div class="hero-header">
        <img
          src="assets/img/logo-small.png"
          class="hero-logo"
          onclick="window.location.href='index.html'"
          style="cursor: pointer"
        />
        <div class="hero-text">
          <h3>PEMERINTAHAN</h3>
          <h4>KABUPATEN PESISIR BARAT</h4>
        </div>
      </div>

      <div class="hero-center">
        <h1>SELAMAT DATANG DI WEBSITE RESMI</h1>
        <h2>KABUPATEN PESISIR BARAT</h2>
      </div>

      <div class="hamburger" id="hamburgerBtn">☰</div>

      <nav class="main-nav">
        <div class="nav-item" onclick="window.location.href='index.html'">
          BERANDA
        </div>
        <div class="nav-item" onclick="window.location.href='profil.html'">
          PROFIL
        </div>
        <div class="nav-item" onclick="window.location.href='pariwisata.html'">
          PARIWISATA
        </div>
      </nav>
    </header>

    <main class="container">
      <!-- Breadcrumb -->
      <nav class="breadcrumb">
        <a href="index.html">BERANDA</a> &gt; <span>BERITA</span>
      </nav>

      <div class="page-layout">
        <!-- Main Content -->
        <section class="main-content">
          <h1 class="page-title">BERITA TERKINI</h1>

          <div id="beritaList" class="card-grid">
            <!-- Berita cards will be loaded here by JavaScript -->
          </div>

          <div id="beritaPagination" class="pagination-container"></div>
        </section>

        <!-- Sidebar -->
        <aside class="sidebar">
          <div class="sidebar-card">
            <h3>INFORMASI</h3>
            <ul id="informasiList" class="sidebar-list">
              <!-- Informasi will be loaded here -->
            </ul>
          </div>
        </aside>
      </div>
    </main>

    <footer class="site-footer">
      <div class="container footer-grid">
        <div class="footer-about">
          <img src="assets/img/logo-small.png" alt="logo" class="footer-logo" />
          <h2 class="footer-title">
            PEMERINTAHAN <br /><span>KABUPATEN PESISIR BARAT</span>
          </h2>
          <div class="footer-address">
            <p>
              <img src="assets/map.png" /> Jl. Kesuma No. 1 Gedung A Lt.1
              Kompleks Perkantoran Pemda, Kec. Pesisir Tengah
            </p>
            <p>Kabupaten Pesisir Barat, Provinsi Lampung – Indonesia 34874</p>
            <p><img src="assets/wa.png" alt="" /> +62 853-6998-9990</p>
            <p>
              <img src="assets/email.png" style="width: 25px" alt="" />
              admin@pesisirbaratkab.go.id
            </p>
          </div>
        </div>

        <div class="footer-follow">
          <h3 class="footer-heading">IKUTI KAMI</h3>
          <div class="social-icons">
            <a href="#"><img src="assets/youtube.png" alt="yt" /></a>
            <a href="#"><img src="assets/facebook.png" alt="fb" /></a>
            <a href="#"><img src="assets/instagram.png" alt="ig" /></a>
            <a href="#"><img src="assets/twitter.png" alt="tw" /></a>
          </div>
          <p class="link-website">
            <img src="assets/web.png" alt="" /> https://pesisirbaratkab.go.id
          </p>
          <h3 class="footer-heading">STATISTIK PENGUNJUNG</h3>
          <div class="visitor-stats">
            <div>
              <img src="assets/group.png" alt="" />
              <p>Total</p>
              <span>31,339</span>
            </div>
            <div>
              <img src="assets/eye.png" alt="" />
              <p>Hari Ini</p>
              <span>79</span>
            </div>
            <div>
              <img src="assets/calender.png" alt="" />
              <p>Bulan Ini</p>
              <span>405</span>
            </div>
            <div>
              <img src="assets/calender-solid.png" alt="" />
              <p>Tahun Ini</p>
              <span>55,668</span>
            </div>
          </div>
        </div>

        <div class="footer-map">
          <h3 class="footer-heading">LOKASI</h3>
          <img src="assets/lokasi.png" class="map-img" alt="Map" />
        </div>
      </div>

      <div class="footer-bottom" style="text-align: center">
        © <span id="year"></span> Pemerintah Kabupaten Pesisir Barat — All
        rights reserved.
      </div>
    </footer>

    <script src="script.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", async function () {
        // Load berita
        const berita = await DataManager.load("berita");

        const pagination = new Pagination({
          container: "#beritaList",
          paginationContainer: "#beritaPagination",
          itemsPerPage: 6,
          renderItem: (item) => `
            <div class="card-berita" onclick="window.location.href='detail-berita.html?id=${
              item.id
            }'">
              <img src="${item.gambar}" alt="${
            item.judul
          }" class="card-image" />
              <div class="card-content">
                <h3 class="card-title">${item.judul}</h3>
                <div class="card-meta">
                  <span><img src="assets/icon-date.png" alt="" /> ${formatDate(
                    item.tanggal
                  )}</span>
                  <span><img src="assets/icon-view.png" alt="" /> ${
                    item.views
                  }</span>
                </div>
              </div>
            </div>
          `,
        });

        pagination.setData(berita);

        // Load informasi sidebar
        const informasi = await DataManager.load("informasi");
        const infoList = document.getElementById("informasiList");
        if (infoList) {
          infoList.innerHTML = informasi
            .slice(0, 5)
            .map(
              (item) => `
            <li><a href="detail-informasi.html?id=${item.id}">${item.judul}</a></li>
          `
            )
            .join("");
        }
      });
    </script>
  </body>
</html>
