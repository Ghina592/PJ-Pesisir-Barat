<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Pesisir Barat — Detail Wisata</title>

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />

    <!-- Styles -->
      <link rel="stylesheet" href="header.css" />
    <link rel="stylesheet" href="pariwisata-sub.css" />
    
        <link rel="stylesheet" href="footer.css" />
    
    <!-- meta for theme-color -->
    <meta name="theme-color" content="#e9caa2" />
  </head>
  <body>
    <!-- TOP BAR / HERO -->
    <header class="hero">
      <div class="hero-overlay"></div>

      <div class="hero-top container">
        <!-- Welcome Text (Center) -->
        <div class="hero-content">
          <h1 class="hero-title">SELAMAT DATANG DI WEBSITE RESMI</h1>
          <h2 class="hero-subtitle">KABUPATEN PESISIR BARAT</h2>
        </div>

        <div class="hero-bottom">
          <div class="official left-official">
            <img
              src="assets/img/bupati.png"
              alt="bupati"
              class="official-photo"
            />
          </div>

          <div class="hero-center">
            <img src="assets/img/logo.png" alt="logo" class="logo-center" onclick="window.location.href='index.html'" style="cursor: pointer;" />
            <h1>NEGERI PARA SAI BATIN DAN ULAMA</h1>

            <div class="search">
              <input type="search" placeholder="Search..." id="searchInput" />
              <button id="searchBtn" aria-label="search">🔍</button>
            </div>
          </div>

          <div class="official right-official">
            <img
              src="assets/img/wakil.png"
              alt="wakil"
              class="official-photo"
            />
          </div>
        </div>
      </div>

      <!-- HAMBURGER (MOBILE ONLY) -->
      <div class="hamburger" id="hamburgerBtn">☰</div>

      <!-- NAVIGATION -->
       <nav class="main-nav">
        <div class="nav-item" onclick="window.location.href='wisata-alam.html'">
          WISATA ALAM
        </div>
        <div class="nav-item" onclick="window.location.href='wisata-budaya.html'">
          WISATA BUDAYA
        </div>
        <div class="nav-item" onclick="window.location.href='wisata-kuliner.html'">
          WISATA KULINER
        </div>
      </nav>
    </header>

    <!-- MAIN CONTENT -->
    <main>
      <!-- Breadcrumb -->
      <nav class="breadcrumb container">
        <a href="index.html">BERANDA</a> &gt; 
        <a href="pariwisata.html">PARIWISATA</a> &gt; 
        <a href="#" id="breadcrumbKategori">WISATA</a> &gt; 
        <span id="breadcrumbNama">Loading...</span>
      </nav>

        <div class="detail-container" id="wisataDetail">
            <!-- Content will be loaded dynamically -->
            <p>Loading...</p>
        </div>
    </main>

        <!-- FOOTER -->
    <div id="footer-placeholder"></div>

    <!-- Scripts -->
    <script src="script.js"></script>
    <script src="footer-template.js"></script>

    <script src="script.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', async function() {
        const id = getUrlParam('id');
        if (!id) {
          document.getElementById('wisataDetail').innerHTML = '<p>ID wisata tidak ditemukan.</p>';
          return;
        }

        const wisata = await DataManager.getById('wisata', id);
        if (!wisata) {
          document.getElementById('wisataDetail').innerHTML = '<p>Wisata tidak ditemukan.</p>';
          return;
        }

        // Update breadcrumb dynamically
        const kategoriMap = {
          'wisata-alam': { text: 'WISATA ALAM', href: 'wisata-alam.html' },
          'wisata-budaya': { text: 'WISATA BUDAYA', href: 'wisata-budaya.html' },
          'wisata-kuliner': { text: 'WISATA KULINER', href: 'wisata-kuliner.html' }
        };
        const kategori = kategoriMap[wisata.kategori] || { text: 'WISATA', href: 'pariwisata.html' };
        document.getElementById('breadcrumbKategori').textContent = kategori.text;
        document.getElementById('breadcrumbKategori').href = kategori.href;
        document.getElementById('breadcrumbNama').textContent = wisata.nama.toUpperCase();

        // Build cost list HTML
        let costHtml = '';
        if (wisata.estimasiBiaya) {
          costHtml = '<ul>';
          for (const [key, value] of Object.entries(wisata.estimasiBiaya)) {
            if (key !== 'total') {
              costHtml += `<li><strong>${key}:</strong> ${value}</li>`;
            }
          }
          costHtml += '</ul>';
          if (wisata.estimasiBiaya.total) {
            costHtml += `<p><strong>Total estimasi:</strong> ${wisata.estimasiBiaya.total}</p>`;
          }
        }

        // Build small slidable gallery
        const allImages = [wisata.gambarHero, ...(wisata.galeri || [])].filter(Boolean);
        let galleryHtml = '';
        if (allImages.length > 0) {
          galleryHtml = `
            <div class="gallery-section" style="margin: 30px 0;">
              <h3 style="margin-bottom: 15px; color: #0c4a6e;">Galeri</h3>
              <div class="gallery-wrapper" style="position: relative;">
                <div class="gallery-track" id="galleryTrack" style="display: flex; overflow-x: auto; scroll-snap-type: x mandatory; scroll-behavior: smooth; gap: 10px; padding: 10px 0;">
                  ${allImages.map((img, i) => `
                    <div class="gallery-thumb" style="flex: 0 0 150px; scroll-snap-align: start; cursor: pointer;" onclick="window.gallery && window.gallery.open(${JSON.stringify(allImages)}, ${i})">
                      <img src="${img}" alt="Gallery ${i+1}" style="width: 150px; height: 100px; object-fit: cover; border-radius: 8px; border: 2px solid #0c4a6e;" />
                    </div>
                  `).join('')}
                </div>
              </div>
              <p style="text-align: center; font-size: 12px; color: #888; margin-top: 10px;">Klik gambar untuk memperbesar</p>
            </div>
          `;
        }

        // Render content - cleaner layout like original
        document.getElementById('wisataDetail').innerHTML = `
          <img src="${wisata.gambarHero}" alt="${wisata.nama}" class="detail-hero-img" style="width: 100%; max-height: 400px; object-fit: cover; border-radius: 12px; margin-bottom: 20px;" />
          
          <div class="detail-title" style="font-size: 28px; font-weight: bold; color: #0c4a6e; text-align: center; margin-bottom: 10px;">${wisata.nama}</div>
          
          <div class="detail-ringkasan" style="font-style: italic; text-align: center; color: #555; margin-bottom: 25px; font-size: 16px;">
            ${wisata.ringkasan}
          </div>

          <div class="detail-desc" style="line-height: 1.8; margin-bottom: 30px;">
            ${wisata.deskripsi.replace(/\n\n/g, '</p><p style="margin-bottom: 15px;">')}
          </div>

          ${galleryHtml}

          <div class="detail-info" style="background: #f9f9f9; padding: 20px; border-radius: 12px; margin-top: 20px;">
            <h3 style="color: #0c4a6e; margin-bottom: 15px;">Estimasi Biaya</h3>
            ${costHtml}
            
            <h3 style="color: #0c4a6e; margin-top: 25px; margin-bottom: 15px;">Kontak</h3>
            <p style="margin-bottom: 8px;">
              <img src="assets/instagram.png" alt="" style="width:20px; vertical-align:middle; margin-right:8px" />
              ${wisata.kontak?.instagram || '-'}
            </p>
            <p style="margin-bottom: 8px;">
              <img src="assets/icons/wa.png" alt="" style="width:20px; vertical-align:middle; margin-right:8px" />
              ${wisata.kontak?.whatsapp || '-'}
            </p>
            
            <h3 style="color: #0c4a6e; margin-top: 25px; margin-bottom: 15px;">Lokasi</h3>
            <p>
              <a href="${wisata.lokasi}" target="_blank" style="display: inline-block; background: #0c4a6e; color: white; padding: 10px 20px; border-radius: 8px; text-decoration: none;">
                📍 Buka di Google Maps
              </a>
            </p>
          </div>
        `;

        // Update page title
        document.title = `${wisata.nama} - Pesisir Barat`;
      });

      // Hamburger menu
      const hamburger = document.getElementById("hamburgerBtn");
      const mainNav = document.querySelector(".main-nav");
      if (hamburger && mainNav) {
        hamburger.addEventListener("click", () => {
          mainNav.classList.toggle("open");
        });
      }
    </script>
  </body>
</html>


