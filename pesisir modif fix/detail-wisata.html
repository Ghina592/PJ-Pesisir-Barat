<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Pesisir Barat ‚Äî Detail Wisata</title>

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />

    <!-- Styles -->
    <link rel="stylesheet" href="pariwisata-sub.css" />
    
    <!-- meta for theme-color -->
    <meta name="theme-color" content="#e9caa2" />
  </head>
  <body>
    <!-- TOP BAR / HERO -->
    <header class="hero">
      <div class="hero-overlay"></div>

      <div class="hero-top container">
        <!-- Welcome Text (Center) -->
        <div class="hero-content">
          <h1 class="hero-title">SELAMAT DATANG DI WEBSITE RESMI</h1>
          <h2 class="hero-subtitle">KABUPATEN PESISIR BARAT</h2>
        </div>

        <div class="hero-bottom">
          <div class="official left-official">
            <img
              src="assets/img/bupati.png"
              alt="bupati"
              class="official-photo"
            />
          </div>

          <div class="hero-center">
            <img src="assets/img/logo.png" alt="logo" class="logo-center" onclick="window.location.href='index.html'" style="cursor: pointer;" />
            <h1>NEGERI PARA SAI BATIN DAN ULAMA</h1>

            <div class="search">
              <input type="search" placeholder="Search..." id="searchInput" />
              <button id="searchBtn" aria-label="search">üîç</button>
            </div>
          </div>

          <div class="official right-official">
            <img
              src="assets/img/wakil.png"
              alt="wakil"
              class="official-photo"
            />
          </div>
        </div>
      </div>

      <!-- HAMBURGER (MOBILE ONLY) -->
      <div class="hamburger" id="hamburgerBtn">‚ò∞</div>

      <!-- NAVIGATION -->
       <nav class="main-nav">
        <div class="nav-item" onclick="window.location.href='wisata-alam.html'">
          WISATA ALAM
        </div>
        <div class="nav-item" onclick="window.location.href='wisata-budaya.html'">
          WISATA BUDAYA
        </div>
        <div class="nav-item" onclick="window.location.href='wisata-kuliner.html'">
          WISATA KULINER
        </div>
      </nav>
    </header>

    <!-- MAIN CONTENT -->
    <main>
        <div class="detail-container" id="wisataDetail">
            <!-- Content will be loaded dynamically -->
            <p>Loading...</p>
        </div>
    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container footer-grid">
        <!-- ABOUT -->
        <div class="footer-about">
          <img src="assets/img/logo-small.png" alt="logo" class="footer-logo" />

          <h2 class="footer-title">
            PEMERINTAHAN <br />
            <span>KABUPATEN PESISIR BARAT</span>
          </h2>

          <div class="footer-address">
            <p>
              <img src="assets/map.png" />
              Jl. Kesuma No. 1 Gedung A Lt.1 Kompleks Perkantoran Pemda, Kec.
              Pesisir Tengah
            </p>
            <p>Kabupaten Pesisir Barat, Provinsi Lampung ‚Äì Indonesia 34874</p>

            <p><img src="assets/wa.png" alt="" /> +62 853-6998-9990</p>
            <p>
              <img src="assets/email.png" style="width: 25px" alt="" />
              admin@pesisirbaratkab.go.id
            </p>
          </div>
        </div>

        <!-- IKUTI KAMI -->
        <div class="footer-follow">
          <h3 class="footer-heading">IKUTI KAMI</h3>

          <div class="social-icons">
            <a href="#"><img src="assets/youtube.png" alt="yt" /></a>
            <a href="#"><img src="assets/facebook.png" alt="fb" /></a>
            <a href="#"><img src="assets/instagram.png" alt="ig" /></a>
            <a href="#"><img src="assets/twitter.png" alt="tw" /></a>
          </div>

          <p class="link-website">
            <img src="assets/web.png" alt="" /> https://pesisirbaratkab.go.id
          </p>

          <h3 class="footer-heading">STATISTIK PENGUNJUNG</h3>

          <div class="visitor-stats">
            <div>
              <img src="assets/group.png" alt="" />
              <p>Total</p>
              <span>31,339</span>
            </div>
            <div>
              <img src="assets/eye.png" alt="" />
              <p>Hari Ini</p>
              <span>79</span>
            </div>
            <div>
              <img src="assets/calender.png" alt="" />
              <p>Bulan Ini</p>
              <span>405</span>
            </div>
            <div>
              <img src="assets/calender-solid.png" alt="" />
              <p>Tahun Ini</p>
              <span>55,668</span>
            </div>
          </div>
        </div>

        <!-- MAP -->
        <div class="footer-map">
          <h3 class="footer-heading">LOKASI</h3>
          <img src="assets/lokasi.png" class="map-img" alt="Map" />
        </div>
      </div>

      <!-- BOTTOM -->
      <div class="footer-bottom" style="text-align: center">
        ¬© <span id="year"></span> Pemerintah Kabupaten Pesisir Barat ‚Äî All
        rights reserved.
      </div>
    </footer>

    <script src="script.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', async function() {
        const id = getUrlParam('id');
        if (!id) {
          document.getElementById('wisataDetail').innerHTML = '<p>ID wisata tidak ditemukan.</p>';
          return;
        }

        const wisata = await DataManager.getById('wisata', id);
        if (!wisata) {
          document.getElementById('wisataDetail').innerHTML = '<p>Wisata tidak ditemukan.</p>';
          return;
        }

        // Build cost list HTML
        let costHtml = '';
        if (wisata.estimasiBiaya) {
          costHtml = '<ul>';
          for (const [key, value] of Object.entries(wisata.estimasiBiaya)) {
            if (key !== 'total') {
              costHtml += `<li><strong>${key}:</strong> ${value}</li>`;
            }
          }
          costHtml += '</ul>';
          if (wisata.estimasiBiaya.total) {
            costHtml += `<p><strong>Total estimasi:</strong> ${wisata.estimasiBiaya.total}</p>`;
          }
        }

        // Build small slidable gallery
        const allImages = [wisata.gambarHero, ...(wisata.galeri || [])].filter(Boolean);
        let galleryHtml = '';
        if (allImages.length > 0) {
          galleryHtml = `
            <div class="gallery-section" style="margin: 30px 0;">
              <h3 style="margin-bottom: 15px; color: #0c4a6e;">Galeri</h3>
              <div class="gallery-wrapper" style="position: relative;">
                <div class="gallery-track" id="galleryTrack" style="display: flex; overflow-x: auto; scroll-snap-type: x mandatory; scroll-behavior: smooth; gap: 10px; padding: 10px 0;">
                  ${allImages.map((img, i) => `
                    <div class="gallery-thumb" style="flex: 0 0 150px; scroll-snap-align: start; cursor: pointer;" onclick="window.gallery && window.gallery.open(${JSON.stringify(allImages)}, ${i})">
                      <img src="${img}" alt="Gallery ${i+1}" style="width: 150px; height: 100px; object-fit: cover; border-radius: 8px; border: 2px solid #0c4a6e;" />
                    </div>
                  `).join('')}
                </div>
              </div>
              <p style="text-align: center; font-size: 12px; color: #888; margin-top: 10px;">Klik gambar untuk memperbesar</p>
            </div>
          `;
        }

        // Render content - cleaner layout like original
        document.getElementById('wisataDetail').innerHTML = `
          <img src="${wisata.gambarHero}" alt="${wisata.nama}" class="detail-hero-img" style="width: 100%; max-height: 400px; object-fit: cover; border-radius: 12px; margin-bottom: 20px;" />
          
          <div class="detail-title" style="font-size: 28px; font-weight: bold; color: #0c4a6e; text-align: center; margin-bottom: 10px;">${wisata.nama}</div>
          
          <div class="detail-ringkasan" style="font-style: italic; text-align: center; color: #555; margin-bottom: 25px; font-size: 16px;">
            ${wisata.ringkasan}
          </div>

          <div class="detail-desc" style="line-height: 1.8; margin-bottom: 30px;">
            ${wisata.deskripsi.replace(/\n\n/g, '</p><p style="margin-bottom: 15px;">')}
          </div>

          ${galleryHtml}

          <div class="detail-info" style="background: #f9f9f9; padding: 20px; border-radius: 12px; margin-top: 20px;">
            <h3 style="color: #0c4a6e; margin-bottom: 15px;">Estimasi Biaya</h3>
            ${costHtml}
            
            <h3 style="color: #0c4a6e; margin-top: 25px; margin-bottom: 15px;">Kontak</h3>
            <p style="margin-bottom: 8px;">
              <img src="assets/instagram.png" alt="" style="width:20px; vertical-align:middle; margin-right:8px" />
              ${wisata.kontak?.instagram || '-'}
            </p>
            <p style="margin-bottom: 8px;">
              <img src="assets/icons/wa.png" alt="" style="width:20px; vertical-align:middle; margin-right:8px" />
              ${wisata.kontak?.whatsapp || '-'}
            </p>
            
            <h3 style="color: #0c4a6e; margin-top: 25px; margin-bottom: 15px;">Lokasi</h3>
            <p>
              <a href="${wisata.lokasi}" target="_blank" style="display: inline-block; background: #0c4a6e; color: white; padding: 10px 20px; border-radius: 8px; text-decoration: none;">
                üìç Buka di Google Maps
              </a>
            </p>
          </div>
        `;

        // Update page title
        document.title = `${wisata.nama} - Pesisir Barat`;
      });

      // Hamburger menu
      const hamburger = document.getElementById("hamburgerBtn");
      const mainNav = document.querySelector(".main-nav");
      if (hamburger && mainNav) {
        hamburger.addEventListener("click", () => {
          mainNav.classList.toggle("open");
        });
      }
    </script>
  </body>
</html>
